{% extends "planapp/base.html" %}

{% block content %}

{% if plan %}
<div class="card text-center">
    <div class="card-header">
        <h1>{{ plan.title }}</h1>
    </div>
    <div class="card-body">
      <h5 class="card-title">{{ plan.description }}</h5>
      <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
      <a href="{% url 'edit_plan' plan.id %}" class="btn btn-primary">Edit Plan</a>
      <a href="{% url 'delete_plan' plan.id %}" class="btn btn-primary" style="background-color: red; border-color: red;">Delete Plan</a>
    </div>
    <div class="card-footer text-muted">
      footer goes here
    </div>
</div>
{% else %}
    <p>goal isnt available.</p>
{% endif %}
<br>
{% if task_list %}
    <ul>
    {% for task in task_list %}
        <div class="card">
            <h5 class="card-header"><a href="{% url 'task' task.id %}">{{ task.title }}</a></h5>
            <div class="card-body">
            <h5 class="card-title">{{ task.description }}</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
            <a href="{% url 'edit_task' task.id %}" class="btn btn-primary">Edit Task</a>
            <a href="{% url 'delete_task' task.id %}" class="btn btn-primary" style="background-color: red; border-color: red;">Delete Task</a>
            </div>
        </div>
        <br>
    {% endfor %}
    </ul>
{% else %}
    <p>No tasks associated with this plan are created yet.</p>
{% endif %}
<br>
<div class="card text-center">
    <div class="card-header">
      Create a new task
    </div>
    <div class="card-body">
      <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <input class="btn btn-primary" type="submit" value="Submit">
        </form>
    </div>
    <div class="card-footer text-muted">
      Fill out form and click Submit
    </div>
</div>

<!-- <ul>
    {% for goal in goals_list %}
        <li><a href="{% url 'goal' goal.id %}">{{ goal.title }}</a></li>
    {% endfor %}
</ul> -->

{% endblock %}